<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhizMath - Prime Number Theory Fundamentals Lesson</title>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <script>
        // Optional: Configure MathJax to process dollar signs for inline math
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Light mode styles */
        .light .bg-gray-100 { background-color: #f3f4f6; }
        .light .text-gray-900 { color: #1f2937; }
        .light .bg-white { background-color: #ffffff; }
        .light .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .light .text-gray-800 { color: #1f2937; }
        .light .text-blue-700 { color: #1d4ed8; }
        .light .bg-blue-600 { background-color: #2563eb; }
        .light .bg-blue-700 { background-color: #1d4ed8; }
        .light .bg-blue-500 { background-color: #3b82f6; }
        .light .from-blue-500 { --tw-gradient-from: #3b82f6; }
        .light .to-indigo-600 { --tw-gradient-to: #4f46e5; }
        .light .bg-gray-50 { background-color: #f9fafb; } /* Card background */
        .light .text-gray-600 { color: #4b5563; } /* Card description text */
        .light .text-gray-700 { color: #374151; } /* Section description text */
        .light .bg-blue-100 { background-color: #dbeafe; } /* Autocomplete hover */
        .light .footer-link-hover:hover { color: #60a5fa; } /* Footer link hover */
        .light .social-icon-bg { background-color: #3b82f6; } /* Social icon background */
        .light .social-icon-bg:hover { background-color: #2563eb; } /* Social icon hover background */
        .light #scroll-to-top-btn { background-color: #2563eb; } /* Scroll to top button */
        .light #scroll-to-top-btn:hover { background-color: #1d4ed8; } /* Scroll to top button hover */


        /* Dark mode styles */
        .dark .bg-gray-100 { background-color: #1a202c; }
        .dark .text-gray-900 { color: #e2e8f0; }
        .dark .bg-white { background-color: #2d3748; } /* Main content section background */
        .dark .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.15); }
        .dark .text-gray-800 { color: #cbd5e0; }
        .dark .text-blue-700 { color: #90cdf4; } /* Section title */
        .dark .bg-blue-600 { background-color: #1a365d; }
        .dark .bg-blue-700 { background-color: #2a4365; }
        .dark .bg-blue-500 { background-color: #3182ce; }
        .dark .from-blue-500 { --tw-gradient-from: #3182ce; }
        .dark .to-indigo-600 { --tw-gradient-to: #5a67d8; }
        .dark .bg-gray-800 { background-color: #1a202c; }
        .dark .text-white { color: #e2e8f0; }
        .dark .bg-gray-50 { background-color: #1f2937; } /* Card background for dark mode */
        .dark .text-gray-600 { color: #a0aec0; } /* Card description text for dark mode */
        .dark .text-gray-700 { color: #cbd5e0; } /* Section description text for dark mode */
        .dark .bg-blue-100 { background-color: #1e3a8a; } /* Autocomplete hover for dark mode */
        .dark .footer-link-hover:hover { color: #60a5fa; } /* Footer link hover */
        .dark .social-icon-bg { background-color: #3182ce; } /* Social icon background */
        .dark .social-icon-bg:hover { background-color: #2b6cb0; } /* Social icon hover background */
        .dark #scroll-to-top-btn { background-color: #3182ce; } /* Scroll to top button */
        .dark #scroll-to-top-btn:hover { background-color: #2b6cb0; } /* Scroll to top button hover */


        /* Ensure smooth transitions for all elements */
        * {
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Global Three.js Canvas for background animation */
        #global-background-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }

        /* Mobile sidebar styling */
        #mobile-menu {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 256px;
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
            z-index: 50;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
        }
        #mobile-menu.open {
            transform: translateX(0);
        }

        /* Overlay for when sidebar is open */
        #mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        #mobile-menu-overlay.open {
            opacity: 1;
            visibility: visible;
        }

        /* Custom Nav Link Hover Effect */
        .nav-link-effect {
            position: relative;
            display: inline-block;
            padding: 8px 12px;
            border-radius: 6px;
            overflow: hidden;
            z-index: 1;
        }

        .nav-link-effect::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.15);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease-out;
            border-radius: 6px;
            z-index: -1;
        }

        .nav-link-effect::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background-color: white;
            transition: width 0.3s ease-out, left 0.3s ease-out;
        }

        .nav-link-effect:hover::before {
            transform: scaleX(1);
        }

        .nav-link-effect:hover::after {
            width: 100%;
            left: 0;
        }

        /* Dark mode specific hover effect adjustments */
        .dark .nav-link-effect::before {
            background-color: rgba(0, 0, 0, 0.2);
        }
        .dark .nav-link-effect::after {
            background-color: #90cdf4;
        }

        /* Adjust mobile menu links for the new effect */
        #mobile-menu .nav-link-effect {
            width: 100%;
            text-align: left;
            padding: 12px 16px;
        }

        /* Scroll to Top Button */
        #scroll-to-top-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 4rem;
            height: 4rem;
            border-radius: 9999px; /* Fully rounded */
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 6px (0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out;
            z-index: 100;
        }

        #scroll-to-top-btn.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* Lesson content specific styles */
        .lesson-section {
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .lesson-section h3 {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            margin-bottom: 1rem;
            color: #1d4ed8; /* text-blue-700 */
        }
        .dark .lesson-section h3 {
            color: #90cdf4; /* dark:text-blue-400 */
        }
        .lesson-section p {
            line-height: 1.75; /* leading-relaxed */
            margin-bottom: 1rem;
            color: #374151; /* text-gray-700 */
        }
        .dark .lesson-section p {
            color: #cbd5e0; /* dark:text-gray-300 */
        }
        .lesson-section ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            color: #374151;
        }
        .dark .lesson-section ul {
            color: #cbd5e0;
        }
        .lesson-section ul li {
            margin-bottom: 0.5rem;
        }
        .example-box {
            background-color: #e0f2fe; /* bg-blue-50 */
            border-left: 4px solid #3b82f6; /* border-blue-500 */
            padding: 1rem;
            border-radius: 0.25rem;
            margin-top: 1rem;
            margin-bottom: 1rem;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            color: #1d4ed8; /* text-blue-700 */
        }
        .dark .example-box {
            background-color: #1e3a8a; /* dark:bg-blue-900 */
            border-color: #60a5fa; /* dark:border-blue-400 */
            color: #90cdf4; /* dark:text-blue-300 */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 flex flex-col min-h-screen">

    <canvas id="global-background-canvas"></canvas>

    <div id="mobile-menu-overlay" class="md:hidden"></div>

    <header class="bg-blue-600 text-white p-4 shadow-md relative z-10">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-bold rounded-md px-2 py-1">WhizMath</h1>
            <nav class="flex items-center space-x-6 relative">
                <ul class="hidden md:flex space-x-2">
                    <li><a href="index.html" class="nav-link-effect">Home</a></li>
                    <li><a href="tools.html" class="nav-link-effect">Tools</a></li>
                    <li><a href="lessons.html" class="nav-link-effect">Learn</a></li>
                    <li><a href="quizzes.html" class="nav-link-effect">Quizzes</a></li>
                    <li><a href="games.html" class="nav-link-effect">Games</a></li>
                    <li><a href="contact.html" class="nav-link-effect">Contact</a></li>
                </ul>

                <button id="mobile-menu-button" class="md:hidden p-2 rounded-md hover:bg-blue-700 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>

                <button id="theme-toggle" class="p-2 rounded-full bg-blue-700 hover:bg-blue-800 transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 ml-4">
                    <svg id="moon-icon" class="w-6 h-6 text-white transition-all duration-300 ease-in-out" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                    <svg id="sun-icon" class="w-6 h-6 text-yellow-300 transition-all duration-300 ease-in-out hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h1M4 12H3m15.354 3.354l-.707.707M5.646 5.646l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                </button>
            </nav>
        </div>
    </header>

    <div id="mobile-menu" class="bg-blue-600 text-white p-6 md:hidden">
        <ul class="flex flex-col space-y-4 pt-8">
            <li><a href="index.html" class="nav-link-effect">Home</a></li>
            <li><a href="tools.html" class="nav-link-effect">Tools</a></li>
            <li><a href="lessons.html" class="nav-link-effect">Learn</a></li>
            <li><a href="quizzes.html" class="nav-link-effect">Quizzes</a></li>
            <li><a href="games.html" class="nav-link-effect">Games</a></li>
            <li><a href="contact.html" class="nav-link-effect">Contact</a></li>
        </ul>
    </div>

    <main class="flex-grow container mx-auto p-4 py-8 relative z-10">

        <section class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg mb-12 text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 text-blue-700 dark:text-blue-400">Prime Number Theory Fundamentals: The Atoms of Arithmetic</h2>
            <p class="text-lg text-gray-700 dark:text-gray-300 mb-8 max-w-2xl mx-auto">
                Prime numbers are the building blocks of all integers, much like atoms are the building blocks of matter. Prime number theory is a fascinating branch of mathematics that studies the properties, distribution, and patterns of these unique numbers. Despite their simple definition, primes hold many deep mysteries and are fundamental to modern cryptography and computer security.
            </p>
        </section>

        <div class="lesson-content">
            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>1. What are Prime Numbers? Definition and Examples</h3>
                <p>
                    A <strong>prime number</strong> is a natural number greater than 1 that has no positive divisors other than 1 and itself.
                </p>
                <ul>
                    <li>The number 1 is NOT a prime number. It is a unit.</li>
                    <li>Any natural number greater than 1 that is not prime is called a <strong>composite number</strong>. Composite numbers can be formed by multiplying two smaller natural numbers.</li>
                </ul>
                <div class="example-box">
                    <strong>Examples of Prime Numbers:</strong><br>
                    $2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, \dots$
                </div>
                <div class="example-box">
                    <strong>Examples of Composite Numbers:</strong><br>
                    $4 = 2 \times 2$<br>
                    $6 = 2 \times 3$<br>
                    $9 = 3 \times 3$<br>
                    $10 = 2 \times 5$
                </div>
                <p>
                    The number 2 is the only even prime number. All other prime numbers are odd.
                </p>
            </section>

            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>2. The Fundamental Theorem of Arithmetic: Unique Factorization</h3>
                <p>
                    This theorem is one of the most important results in number theory, establishing the unique role of prime numbers.
                </p>
                <p class="font-semibold text-gray-800 dark:text-gray-200">Theorem Statement:</p>
                <p>
                    Every integer greater than 1 either is a prime number itself or can be represented as a product of prime numbers, and this representation is unique, apart from the order of the factors.
                </p>
                <div class="example-box">
                    <strong>Example:</strong> Prime factorization of 120<br>
                    $120 = 2 \times 60$<br>
                    $120 = 2 \times 2 \times 30$<br>
                    $120 = 2 \times 2 \times 2 \times 15$<br>
                    $120 = 2 \times 2 \times 2 \times 3 \times 5$<br>
                    So, $120 = 2^3 \times 3^1 \times 5^1$. This factorization is unique.
                </div>
                <p>
                    This theorem means that prime numbers are indeed the "atoms" of multiplication, as every integer can be built up from them in only one way.
                </p>
            </section>

            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>3. Sieve of Eratosthenes: Finding Primes</h3>
                <p>
                    The Sieve of Eratosthenes is an ancient algorithm for finding all prime numbers up to a specified integer. It's a simple, efficient way to list primes up to a certain limit.
                </p>
                <p class="font-semibold text-gray-800 dark:text-gray-200">Algorithm Steps (to find primes up to $N$):</p>
                <ol>
                    <li>Create a list of consecutive integers from 2 to $N$: $2, 3, 4, \dots, N$.</li>
                    <li>Initially, let $p = 2$, the first prime number.</li>
                    <li>Mark all multiples of $p$ (starting from $p^2$) in the list as composite (not prime). For example, if $p=2$, mark $4, 6, 8, \dots$. (We start from $p^2$ because smaller multiples like $2p, 3p, \dots, (p-1)p$ would have already been marked by smaller primes.)</li>
                    <li>Find the next unmarked number in the list that is greater than $p$. If there is no such number, stop. Otherwise, let this new unmarked number be $p$ (it must be the next prime).</li>
                    <li>Repeat from step 3.</li>
                </ol>
                <div class="example-box">
                    <strong>Example: Finding primes up to 30:</strong><br>
                    List: 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30<br>
                    1. $p=2$. Mark multiples of 2: 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30.<br>
                    2. Next unmarked is 3. $p=3$. Mark multiples of 3 (starting from $3^2=9$): 9, 15, 21, 27.<br>
                    3. Next unmarked is 5. $p=5$. Mark multiples of 5 (starting from $5^2=25$): 25.<br>
                    4. Next unmarked is 7. $p=7$. $7^2=49 > 30$. Stop.<br>
                    The unmarked numbers are the primes: $2, 3, 5, 7, 11, 13, 17, 19, 23, 29$.
                </div>
                <p>
                    The sieve is an excellent way to visualize how primes are distributed among integers.
                </p>
            </section>

            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>4. The Infinitude of Primes: Euclid's Proof</h3>
                <p>
                    One of the most profound facts about prime numbers is that there are infinitely many of them. This was proven by the ancient Greek mathematician Euclid around 300 BCE.
                </p>
                <p class="font-semibold text-gray-800 dark:text-gray-200">Euclid's Proof (by contradiction):</p>
                <ol>
                    <li>Assume, for the sake of contradiction, that there is a finite number of prime numbers. Let this finite list be $P_1, P_2, \dots, P_n$, where $P_n$ is the largest prime.</li>
                    <li>Consider a new number $Q$ formed by multiplying all these primes together and adding 1:
                        <div class="example-box">
                            $Q = (P_1 \times P_2 \times \dots \times P_n) + 1$
                        </div>
                    </li>
                    <li>Now, $Q$ must either be a prime number itself or a composite number (by the definition of numbers greater than 1).</li>
                    <li>
                        <strong>Case 1: $Q$ is prime.</strong> If $Q$ is prime, then it is a prime number not on our original list ($P_1, \dots, P_n$), which contradicts our assumption that the list contained *all* primes.
                    </li>
                    <li>
                        <strong>Case 2: $Q$ is composite.</strong> If $Q$ is composite, then by the Fundamental Theorem of Arithmetic, it must have at least one prime factor. Let this prime factor be $P_k$ for some $k$ between 1 and $n$.
                        <p>This means $P_k$ divides $Q$. We also know that $P_k$ divides the product $(P_1 \times P_2 \times \dots \times P_n)$.</p>
                        <p>If $P_k$ divides $Q$ and $P_k$ divides $(P_1 \times P_2 \times \dots \times P_n)$, then $P_k$ must also divide their difference:</p>
                        <div class="example-box">
                            $Q - (P_1 \times P_2 \times \dots \times P_n) = ((P_1 \times P_2 \times \dots \times P_n) + 1) - (P_1 \times P_2 \times \dots \times P_n) = 1$.
                        </div>
                        <p>So, $P_k$ must divide 1. However, the only positive integer that divides 1 is 1 itself. But prime numbers are defined as being greater than 1. This is a contradiction.</p>
                    </li>
                    <li>Since both cases lead to a contradiction, our initial assumption that there is a finite number of primes must be false. Therefore, there are infinitely many prime numbers.</li>
                </ol>
                <p>
                    This elegant proof demonstrates the power of proof by contradiction and provides a cornerstone for prime number theory.
                </p>
            </section>

            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>5. The Distribution of Primes: The Prime Number Theorem</h3>
                <p>
                    While we know there are infinitely many primes, they appear to be distributed somewhat randomly among the integers. However, mathematicians have discovered patterns in their average distribution.
                </p>
                <p class="font-semibold text-gray-800 dark:text-gray-200">The Prime Number Theorem:</p>
                <p>
                    The Prime Number Theorem (PNT) describes the asymptotic distribution of prime numbers. It states that the number of primes less than or equal to a given integer $x$, denoted by $\pi(x)$, is approximately equal to $x$ divided by the natural logarithm of $x$.
                </p>
                <div class="example-box">
                    $\pi(x) \approx \frac{x}{\ln(x)}$
                </div>
                <p>
                    As $x$ gets larger, the approximation becomes more accurate. This theorem, first conjectured by Legendre and Gauss, and later proven independently by Hadamard and de la Vallée Poussin in 1896, is a profound result in analytic number theory. It tells us that primes become less frequent as numbers get larger, but never truly run out.
                </p>
                <div class="example-box">
                    <strong>Example:</strong> Estimate the number of primes up to $1,000,000$.<br>
                    $\pi(1,000,000) \approx \frac{1,000,000}{\ln(1,000,000)} \approx \frac{1,000,000}{13.8155} \approx 72,382$.<br>
                    (The actual number of primes up to $1,000,000$ is $78,498$.)
                </div>
                <p>
                    The PNT is a powerful statement about the "density" of primes.
                </p>
            </section>

            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>6. Special Types of Primes: Mersenne and Fermat Primes</h3>
                <p>
                    Mathematicians often study primes with specific forms, as these can reveal deeper insights or have particular applications.
                </p>
                <ul>
                    <li>
                        <strong>Mersenne Primes:</strong> Prime numbers of the form $2^p - 1$, where $p$ is also a prime number.
                        <div class="example-box">
                            <strong>Examples:</strong><br>
                            For $p=2$, $2^2 - 1 = 3$ (prime)<br>
                            For $p=3$, $2^3 - 1 = 7$ (prime)<br>
                            For $p=5$, $2^5 - 1 = 31$ (prime)<br>
                            For $p=7$, $2^7 - 1 = 127$ (prime)<br>
                            (Note: $2^{11} - 1 = 2047 = 23 \times 89$, which is not prime, even though 11 is prime.)
                        </div>
                        <p>Mersenne primes are significant because they are related to perfect numbers (numbers equal to the sum of their proper divisors). The largest known prime numbers are almost always Mersenne primes, found using distributed computing projects like GIMPS (Great Internet Mersenne Prime Search).</p>
                    </li>
                    <li>
                        <strong>Fermat Primes:</strong> Prime numbers of the form $2^{2^n} + 1$, where $n$ is a non-negative integer.
                        <div class="example-box">
                            <strong>Examples:</strong><br>
                            For $n=0$, $2^{2^0} + 1 = 2^1 + 1 = 3$ (prime)<br>
                            For $n=1$, $2^{2^1} + 1 = 2^2 + 1 = 5$ (prime)<br>
                            For $n=2$, $2^{2^2} + 1 = 2^4 + 1 = 17$ (prime)<br>
                            For $n=3$, $2^{2^3} + 1 = 2^8 + 1 = 257$ (prime)<br>
                            For $n=4$, $2^{2^4} + 1 = 2^{16} + 1 = 65537$ (prime)<br>
                            (Note: The next Fermat number, for $n=5$, $2^{2^5} + 1$, was shown to be composite by Euler.)
                        </div>
                        <p>Fermat primes are notable for their connection to constructible polygons (polygons that can be constructed using only a compass and straightedge).</p>
                    </li>
                </ul>
            </section>

            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>7. Applications of Prime Numbers: Cryptography</h3>
                <p>
                    One of the most significant modern applications of prime numbers is in cryptography, particularly in public-key encryption systems like RSA (Rivest–Shamir–Adleman).
                </p>
                <ul>
                    <li>
                        <strong>Public-Key Cryptography:</strong> These systems rely on a pair of keys: a public key (which can be shared with anyone) and a private key (which must be kept secret).
                    </li>
                    <li>
                        <strong>How Primes are Used (Simplified RSA):</strong>
                        <ol>
                            <li>Choose two very large prime numbers, $p$ and $q$. (These are kept secret).</li>
                            <li>Calculate their product $N = p \times q$. (This $N$ is part of the public key).</li>
                            <li>The security of RSA relies on the computational difficulty of factoring $N$ back into its two prime factors $p$ and $q$ when $N$ is extremely large. While multiplying two large primes is easy, factoring their product is computationally intensive for current computers.</li>
                            <li>This "one-way" property (easy to multiply, hard to factor) allows for secure communication. Someone can use your public key (which includes $N$) to encrypt a message, but only you, with your private key (derived from $p$ and $q$), can easily decrypt it.</li>
                        </ol>
                    </li>
                </ul>
                <p>
                    The difficulty of prime factorization ensures that encrypted messages are secure from eavesdroppers, making prime numbers essential for secure online transactions, digital signatures, and confidential communication.
                </p>
            </section>

            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>8. Unsolved Problems in Prime Number Theory: Open Questions</h3>
                <p>
                    Despite centuries of study, prime numbers continue to pose many challenging and intriguing open problems. These unsolved conjectures drive much of modern number theory research.
                </p>
                <ul>
                    <li>
                        <strong>Twin Prime Conjecture:</strong> States that there are infinitely many twin primes. Twin primes are pairs of prime numbers that differ by 2 (e.g., (3, 5), (5, 7), (11, 13), (17, 19)).
                        <div class="example-box">
                            While many twin primes have been found, a formal proof of their infinitude remains elusive.
                        </div>
                    </li>
                    <li>
                        <strong>Goldbach Conjecture:</strong> States that every even integer greater than 2 is the sum of two prime numbers.
                        <div class="example-box">
                            <strong>Examples:</strong><br>
                            $4 = 2 + 2$<br>
                            $6 = 3 + 3$<br>
                            $8 = 3 + 5$<br>
                            $10 = 3 + 7 = 5 + 5$<br>
                            This has been verified for extremely large numbers but remains unproven for all even integers.
                        </div>
                    </li>
                    <li>
                        <strong>Riemann Hypothesis:</strong> One of the most famous and important unsolved problems in mathematics. It concerns the distribution of the non-trivial zeros of the Riemann zeta function. If true, it would have profound implications for the distribution of prime numbers.
                        <div class="example-box">
                            The Clay Mathematics Institute offers a $1,000,000$ prize for its proof.
                        </div>
                    </li>
                    <li>
                        <strong>Prime Gaps:</strong> Investigating the size of the gaps between consecutive prime numbers. While the Prime Number Theorem tells us about the average gap, understanding the maximum and minimum gaps is an active area of research.
                    </li>
                </ul>
                <p>
                    These open problems highlight the enduring mystery and complexity hidden within the seemingly simple realm of prime numbers.
                </p>
            </section>

            <section class="lesson-section bg-gray-50 dark:bg-gray-800">
                <h3>Practice Problems: Test Your Prime Number Knowledge</h3>
                <p>Apply the concepts you've learned in this lesson to solve the following practice problems.</p>
                <ol class="list-decimal list-inside space-y-3">
                    <li><strong>Prime/Composite:</strong> Classify each number as prime or composite: $2, 9, 13, 21, 37, 51$.</li>
                    <li><strong>Prime Factorization:</strong> Find the prime factorization of 72.</li>
                    <li><strong>Sieve of Eratosthenes:</strong> Use the Sieve of Eratosthenes to list all prime numbers between 30 and 50.</li>
                    <li><strong>Infinitude of Primes:</strong> If we had a list of primes $P_1=2, P_2=3, P_3=5$, what number would Euclid's proof construct? Is this number prime or composite?</li>
                    <li><strong>Prime Number Theorem:</strong> Estimate the number of primes less than or equal to 100 using the Prime Number Theorem ($\ln(100) \approx 4.605$). (The actual number of primes up to 100 is 25).</li>
                    <li><strong>Mersenne Primes:</strong> Is $2^4 - 1$ a Mersenne prime? Why or why not?</li>
                    <li><strong>Fermat Primes:</strong> Is $2^{2^1} + 1$ a Fermat prime? What is its value?</li>
                    <li><strong>Application (Conceptual):</strong> In public-key cryptography, why is it important that prime factorization is computationally difficult for very large numbers?</li>
                    <li><strong>Unsolved Problems:</strong> What is the Goldbach Conjecture? Provide an example.</li>
                    <li><strong>Divisibility:</strong> Is 7 a divisor of 91? Is 11 a prime number?</li>
                </ol>
                <p class="mt-4 text-gray-700 dark:text-gray-300"><em>(Solutions are not provided here, encouraging self-assessment, peer discussion, or seeking further assistance.)</em></p>
            </section>

        </div>

    </main>

    <footer class="bg-gray-800 dark:bg-gray-900 text-white p-8 mt-12 relative z-10">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left">
            <div>
                <h3 class="text-xl font-bold mb-4">WhizMath</h3>
                <p class="text-gray-300 text-sm leading-relaxed">
                    Your ultimate destination for mastering mathematics. We provide free tools, comprehensive lessons, and engaging quizzes to help you succeed.
                </p>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="index.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Home</a></li>
                    <li><a href="tools.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Tools</a></li>
                    <li><a href="lessons.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Learn</a></li>
                    <li><a href="quizzes.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Quizzes</a></li>
                    <li><a href="games.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Games</a></li>
                    <li><a href="contact.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Contact</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4">Popular Tools</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Scientific Calculator</a></li>
                    <li><a href="#" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Graphing Calculator</a></li>
                    <li><a href="#" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Unit Converter</a></li>
                    <li><a href="#" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Equation Solver</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4">Popular Lessons</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="algebra-essentials.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Algebra Essentials</a></li>
                    <li><a href="geometry-basics.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Geometry Basics</a></li>
                    <li><a href="calculus-introduction.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Calculus Introduction</a></li>
                    <li><a href="statistics-fundamentals.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Statistics Fundamentals</a></li>
                    <li><a href="trigonometry-fundamentals.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Trigonometry Fundamentals</a></li>
                    <li><a href="finance-math-fundamentals.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Finance Math Fundamentals</a></li>
                    <li><a href="discrete-math-fundamentals.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Discrete Math Fundamentals</a></li>
                    <li><a href="prime-number-theory-fundamentals.html" class="text-gray-300 hover:text-white footer-link-hover transition duration-200 ease-in-out">Prime Number Theory Fundamentals</a></li>
                </ul>
            </div>
        </div>
        <div class="flex justify-center md:justify-start space-x-4 mt-6">
            <a href="#" class="w-10 h-10 bg-blue-500 social-icon-bg rounded-full flex items-center justify-center hover:scale-110 transition duration-300 ease-in-out" aria-label="Facebook">
                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.776-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33V22C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" />
                </svg>
            </a>
            <a href="#" class="w-10 h-10 bg-blue-500 social-icon-bg rounded-full flex items-center justify-center hover:scale-110 transition duration-300 ease-in-out" aria-label="X (Twitter)">
                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.21-6.89L4.93 21.75H1.625l7.73-8.835L1.25 2.25h3.308l5.97 7.68L18.244 2.25zm.426 17.565L16.63 4.393 4.126 2.25H2.808l13.785 18.125h1.275z" />
                </svg>
            </a>
            <a href="#" class="w-10 h-10 bg-blue-500 social-icon-bg rounded-full flex items-center justify-center hover:scale-110 transition duration-300 ease-in-out" aria-label="Instagram">
                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.792.006 3.24.016a8.97 8.97 0 011.8.093c.895.119 1.57.34 2.1.598.98.483 1.62.94 2.22 1.638.6.698 1.04 1.347 1.43 2.278.39.93.593 1.776.66 2.825.02.324.037.79.037 1.393 0 2.43-.006 2.792-.016 3.24a8.97 8.97 0 01-.093 1.8c-.119.895-.34 1.57-.598 2.1-.483.98-.94 1.62-1.638 2.22-.698.6-1.347 1.04-2.278 1.43-.93.39-1.776.593-2.825.66-.324.02-.79.037-1.393.037-2.43 0-2.792-.006-3.24-.016a8.97 8.97 0 01-1.8-.093c-.895-.119-1.57-.34-2.1-.598-.98-.483-1.62-.94-2.22-1.638-.6-.698-1.347-1.04-2.278-1.43-.93-.39-1.776-.593-2.825.66-.324-.02-.037-.79-.037-1.393 0-2.43.006-2.792.016-3.24.093-1.8.314.598-4.035.483-.98.94-1.62 1.638-2.22.698-.6 1.347-1.04 2.278-1.43.93-.39 1.776-.593 2.825-.66-.324-.02.79-.037 1.393-.037zm0 2.164c-2.093 0-3.193.013-3.793.023a6.83 6.83 0 00-1.46.074c-.66.088-1.09.283-1.48.473-.59.28-1.04.57-1.44.97-.4.4-.69.85-.97 1.44-.19.39-.385.82-.473 1.48-.06.4-.073.74-.083 1.34-.01.6-.013 1.093-.013 3.793s.003 3.193.013 3.793c.01.4.023.74.083 1.34.088.66.283 1.09.473 1.48.28.59.57 1.04.97 1.44.4.4.85.69 1.44.97.39.19.82.385 1.48.473.4.06.74.073 1.34.083.6.01 1.093.013 3.793.013s3.193-.003 3.793-.013c.4-.01.74-.023 1.34-.083.66-.088 1.09-.283 1.48-.473.59-.28 1.04-.57 1.44-.97.4-.4.69-.85.97-1.44.19-.39.82-.385-1.48-.473-.4-.06-.74-.073-1.34-.083-.6-.01-1.093-.013-3.793-.013zm0 3.52c-2.467 0-4.475 2.008-4.475 4.475s2.008 4.475 4.475 4.475 4.475-2.008 4.475-4.475-2.008-4.475-4.475-4.475zM12.315 18a5.685 5.685 0 110-11.37 5.685 5.685 0 010 11.37zm7.25-10.975a1.18 1.18 0 100 2.36 1.18 1.18 0 000-2.36z" clip-rule="evenodd" />
                        </svg>
                    </a>
                    <a href="#" class="w-10 h-10 bg-blue-500 social-icon-bg rounded-full flex items-center justify-center hover:scale-110 transition duration-300 ease-in-out" aria-label="YouTube">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd" d="M19.812 5.405c.781-.144 1.406-.395 1.834-.693.376-.258.629-.533.868-.904.2-.315.353-.69.451-1.042C23.63 2.656 24 2.14 24 1.516a.754.754 0 00-.001-.194c-.035-.3-.153-.591-.355-.845-.224-.287-.516-.566-.867-.862-.375-.316-.763-.618-1.284-.903-.795-.445-1.745-.853-2.925-1.127C17.062 0 12 0 12 0s-5.062 0-7.063.093c-1.18.274-2.13.682-2.925 1.127-.521.285-.91.566-1.285.862-.202.254-.32.545-.355.845A.754.754 0 000 1.516c0 .624.37 1.14.734 1.55.098.352.251.727.452 1.042.239.37.492.645.868.904.428.298 1.053.549 1.834.693C4.938 6 12 6 12 6s7.063 0 7.812-.595zM12 8.75c-3.12 0-5.625 2.505-5.625 5.625S8.88 20 12 20s5.625-2.505 5.625-5.625S15.12 8.75 12 8.75z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </div>
            </div>
        <div class="border-t border-gray-700 dark:border-gray-800 pt-6 mt-8 text-center text-sm text-gray-400">
            <p>&copy; 2025 WhizMath. All rights reserved.</p>
            <p class="mt-2">Designed with <span class="text-red-500">&hearts;</span> by Your AI Assistant</p>
        </div>
    </footer>

    <button id="scroll-to-top-btn">
        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v14"></path>
        </svg>
    </button>

    <script>
        // --- Theme Toggle Logic ---
        const themeToggle = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;
        const moonIcon = document.getElementById('moon-icon');
        const sunIcon = document.getElementById('sun-icon');

        // Function to set theme
        function setTheme(theme) {
            if (theme === 'dark') {
                htmlElement.classList.add('dark');
                htmlElement.classList.remove('light');
                moonIcon.classList.add('hidden');
                sunIcon.classList.remove('hidden');
            } else {
                htmlElement.classList.remove('dark');
                htmlElement.classList.add('light');
                moonIcon.classList.remove('hidden');
                sunIcon.classList.add('hidden');
            }
            localStorage.setItem('theme', theme);
        }

        // Check for saved theme on load
        const savedTheme = localStorage.getItem('theme') || 'light'; // Default to light
        setTheme(savedTheme);

        // Toggle theme on button click
        themeToggle.addEventListener('click', () => {
            const currentTheme = htmlElement.classList.contains('dark') ? 'dark' : 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
        });

        // --- Mobile Sidebar Menu Logic ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');

        function openMobileMenu() {
            mobileMenu.classList.add('open');
            mobileMenuOverlay.classList.add('open');
            document.body.style.overflow = 'hidden'; // Prevent scrolling body when menu is open
        }

        function closeMobileMenu() {
            mobileMenu.classList.remove('open');
            mobileMenuOverlay.classList.remove('open');
            document.body.style.overflow = ''; // Restore body scrolling
        }

        mobileMenuButton.addEventListener('click', () => {
            if (mobileMenu.classList.contains('open')) {
                closeMobileMenu();
            } else {
                openMobileMenu();
            }
        });

        mobileMenuOverlay.addEventListener('click', closeMobileMenu); // Close when clicking overlay

        // Close mobile menu if a link is clicked
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                // Only close if it's a small screen
                if (window.innerWidth < 768) {
                    closeMobileMenu();
                }
            });
        });

        // Handle resize: ensure menu is correct on desktop/mobile switch
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) { // Tailwind's 'md' breakpoint
                closeMobileMenu(); // Ensure sidebar is closed on desktop
            }
        });

        // --- Three.js Global Background Animation Logic ---
        let scene, camera, renderer, particles, particleMaterial;

        function initThreeJS() {
            const canvas = document.getElementById('global-background-canvas');

            // Scene
            scene = new THREE.Scene();

            // Camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;

            // Renderer
            renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            // Particles
            const particleCount = 12500;
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);

            const color1 = new THREE.Color(0xADD8E6); // Light blue
            const color2 = new THREE.Color(0x87CEEB); // Sky blue
            const color3 = new THREE.Color(0x6495ED); // Cornflower blue

            for (let i = 0; i < particleCount; i++) {
                positions[i * 3] = (Math.random() * 2 - 1) * 20; // x
                positions[i * 3 + 1] = (Math.random() * 2 - 1) * 20; // y
                positions[i * 3 + 2] = (Math.random() * 2 - 1) * 20; // z

                const rand = Math.random();
                let color;
                if (rand < 0.33) {
                    color = color1;
                } else if (rand < 0.66) {
                    color = color2;
                } else {
                    color = color3;
                }
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;
            }

            const geometry = new THREE.BufferGeometry();
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            particleMaterial = new THREE.PointsMaterial({
                size: 0.25,
                vertexColors: true,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending,
            });

            particles = new THREE.Points(geometry, particleMaterial);
            scene.add(particles);

            window.addEventListener('resize', onWindowResize, false);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animateThreeJS() {
            requestAnimationFrame(animateThreeJS);

            if (particles) {
                particles.rotation.x += 0.0005;
                particles.rotation.y += 0.0007;
                particles.position.z = Math.sin(Date.now() * 0.0001) * 0.5;
            }

            renderer.render(scene, camera);
        }

        window.onload = function() {
            initThreeJS();
            animateThreeJS();
        };

        // --- Scroll to Top Button Logic ---
        const scrollToTopBtn = document.getElementById('scroll-to-top-btn');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) { // Show button after scrolling 300px
                scrollToTopBtn.classList.add('show');
            } else {
                scrollToTopBtn.classList.remove('show');
            }
        });

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth' // Smooth scroll animation
            });
        });
    </script>
</body>
</html>
