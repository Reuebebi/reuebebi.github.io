<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React.js for Beginners to Advanced: The Ultimate Whizmath Guide</title>
    <meta name="description" content="A comprehensive guide to React.js for the Whizmath community, covering everything from fundamental concepts like JSX and components to advanced Hooks and Context API, with interactive code examples and a stunning design.">
    <meta name="keywords" content="React.js, React, JavaScript, front-end, web development, beginners, advanced, Hooks, Context, JSX, components, Whizmath, tutorial, guide, learn React, UI/UX">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8470165109508371"
     crossorigin="anonymous"></script>

            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Google Fonts - Inter for clean typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- React and ReactDOM CDNs -->
    <script defer crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script defer crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel CDN for JSX transformation (for in-browser compilation) - Added defer -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Custom CSS for Three.js Canvas and overall page styling */
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden; /* Prevent horizontal scroll */
            background-color: #1a202c; /* Dark background as a fallback */
            color: #e2e8f0;
            line-height: 1.6;
            scroll-behavior: smooth; /* Smooth scrolling for scroll-to-top */
        }

        #three-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1; /* Send to back */
            opacity: 0.8; /* Slightly transparent */
        }

        #react-root {
            position: relative;
            z-index: 1; /* Keep content above Three.js background */
            background-color: rgba(26, 32, 44, 0.8); /* Semi-transparent dark background for readability */
            backdrop-filter: blur(8px); /* Frosted glass effect */
            -webkit-backdrop-filter: blur(8px); /* For Safari */
            padding: 2rem;
            border-radius: 1.5rem;
            margin: 2rem auto;
            max-width: 90vw; /* Adjust for responsiveness */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
            animation: fadeIn 1s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1, h2, h3, h4 {
            color: #63b3ed; /* A vibrant blue for headings */
            font-weight: 700;
            margin-bottom: 1rem;
        }

        h1 { font-size: 3.5rem; }
        h2 { font-size: 2.5rem; }
        h3 { font-size: 1.875rem; }
        h4 { font-size: 1.5rem; }

        p {
            margin-bottom: 1rem;
        }

        a {
            color: #9f7aea; /* A soft purple for links */
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: #b794f4;
            text-decoration: underline;
        }

        ul, ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }

        ul li { list-style-type: disc; margin-bottom: 0.5rem; }
        ol li { list-style-type: decimal; margin-bottom: 0.5rem; }

        .code-container {
            position: relative;
            background-color: #2d3748; /* Darker background for code blocks */
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
            overflow-x: auto; /* Allow horizontal scrolling for wide code */
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            color: #a0aec0;
            font-size: 0.9rem;
        }

        .code-content {
            font-family: 'Fira Code', 'JetBrains Mono', monospace; /* Monospace font for code */
            font-size: 0.95rem;
            white-space: pre-wrap; /* Preserve whitespace and wrap long lines */
            word-break: break-all;
            color: #cbd5e0;
        }

        .copy-button {
            background-color: #4299e1; /* Blue button */
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.1s ease;
            outline: none;
            border: none;
        }

        .copy-button:hover {
            background-color: #3182ce;
            transform: translateY(-1px);
        }

        .copy-button:active {
            transform: translateY(0);
        }

        .copied-feedback {
            position: absolute;
            bottom: 0.5rem;
            right: 0.5rem;
            background-color: #48bb78; /* Green for success */
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 0.3rem;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .copied-feedback.show {
            opacity: 1;
        }

        .back-button {
            position: fixed;
            background-color: #63b3ed;
            color: white;
            border-radius: 9999px; /* Fully rounded */
            padding: 1rem;
            font-size: 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, transform 0.2s ease, opacity 0.3s ease;
            z-index: 100;
            top: 2rem; /* Adjusted for consistency */
            left: 2rem; /* Adjusted for consistency */
            font-size: 2rem; /* Larger for more impact */
        }

        .back-button:hover {
            background-color: #4299e1;
            transform: translateY(-2px);
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            #react-root {
                padding: 1.5rem;
                margin: 1rem auto;
                max-width: 95vw;
            }
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            h3 { font-size: 1.5rem; }
            h4 { font-size: 1.25rem; }
            .back-button {
                top: 1rem;
                left: 1rem;
                padding: 0.75rem;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <button id="main-share-btn"
    class="w-14 h-14 rounded-full bg-blue-600 shadow-xl flex items-center justify-center hover:bg-blue-700 transition duration-300 border-4 border-white dark:border-gray-800 focus:outline-none focus:ring-4 focus:ring-blue-300 group"
    aria-label="Share this page">
    <!-- Replaced img with Font Awesome share-alt icon -->
    <i class="fas fa-share-alt text-white text-2xl"></i>
  </button>
  <!-- Share Options -->
  <div id="share-options"
    class="flex flex-col items-center space-y-2 opacity-0 pointer-events-none group-focus-within:opacity-100 group-focus-within:pointer-events-auto group-hover:opacity-100 group-hover:pointer-events-auto transition-opacity duration-300">
    <!-- WhatsApp -->
    <button class="share-option w-12 h-12 rounded-full bg-green-500 hover:bg-green-600 flex items-center justify-center shadow-lg transition"
      data-network="whatsapp" aria-label="Share on WhatsApp">
      <i class="fab fa-whatsapp text-white text-2xl"></i>
    </button>
    <!-- X (Twitter) -->
    <button class="share-option w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-900 flex items-center justify-center shadow-lg transition"
      data-network="twitter" aria-label="Share on X (Twitter)">
      <i class="fab fa-x-twitter text-white text-2xl"></i>
    </button>
    <!-- Facebook -->
    <button class="share-option w-12 h-12 rounded-full bg-blue-700 hover:bg-blue-800 flex items-center justify-center shadow-lg transition"
      data-network="facebook" aria-label="Share on Facebook">
      <i class="fab fa-facebook-f text-white text-2xl"></i>
    </button>
    <!-- Telegram -->
    <button class="share-option w-12 h-12 rounded-full bg-cyan-500 hover:bg-cyan-600 flex items-center justify-center shadow-lg transition"
      data-network="telegram" aria-label="Share on Telegram">
      <i class="fab fa-telegram-plane text-white text-2xl"></i>
    </button>
    <!-- Copy Link -->
    <button class="share-option w-12 h-12 rounded-full bg-gray-300 hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600 flex items-center justify-center shadow-lg transition"
      data-network="copy" aria-label="Copy Link">
      <i class="fa fa-link text-gray-800 dark:text-gray-100 text-2xl"></i>
    </button>
  </div>
  <!-- Copied Tooltip -->
  <span id="share-copied-tooltip"
    class="absolute left-16 top-6 bg-gray-900 text-white text-xs rounded px-2 py-1 shadow opacity-0 pointer-events-none transition-opacity duration-300">Copied!</span>
</div>

<script>
(function () {
  const mainBtn = document.getElementById('main-share-btn');
  const options = document.getElementById('share-options');
  const tooltip = document.getElementById('share-copied-tooltip');
  let optionsOpen = false;

  // Accessibility: open with keyboard and toggle
  mainBtn.addEventListener('click', () => {
    optionsOpen = !optionsOpen;
    options.style.opacity = optionsOpen ? '1' : '0';
    options.style.pointerEvents = optionsOpen ? 'auto' : 'none';
  });

  // Hide options when clicking outside
  document.addEventListener('click', (e) => {
    if (!mainBtn.contains(e.target) && !options.contains(e.target)) {
      optionsOpen = false;
      options.style.opacity = '0';
      options.style.pointerEvents = 'none';
    }
  });

  // Share logic
  const shareBtns = document.querySelectorAll('.share-option');
  const pageUrl = encodeURIComponent(window.location.href);
  const pageTitle = encodeURIComponent(document.title);

  shareBtns.forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      const network = btn.dataset.network;
      let shareLink = '';
      if (network === 'whatsapp') {
        shareLink = `https://wa.me/?text=${pageTitle}%20${pageUrl}`;
        window.open(shareLink, '_blank');
      } else if (network === 'twitter') {
        shareLink = `https://twitter.com/intent/tweet?text=${pageTitle}&url=${pageUrl}`;
        window.open(shareLink, '_blank');
      } else if (network === 'facebook') {
        shareLink = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
        window.open(shareLink, '_blank');
      } else if (network === 'telegram') {
        shareLink = `https://t.me/share/url?url=${pageUrl}&text=${pageTitle}`;
        window.open(shareLink, '_blank');
      } else if (network === 'copy') {
        // Using document.execCommand('copy') for broader compatibility within iframes
        const tempInput = document.createElement('textarea');
        tempInput.value = window.location.href;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand('copy');
        document.body.removeChild(tempInput);

        // Show tooltip
        tooltip.style.opacity = '1';
        setTimeout(() => {
          tooltip.style.opacity = '0';
        }, 1200);
      }
      optionsOpen = false;
      options.style.opacity = '0';
      options.style.pointerEvents = 'none';
    });
  });
})();
</script>

    <!-- Three.js Background Canvas -->
    <canvas id="three-bg"></canvas>

    <!-- Back to Index Button -->
    <button id="backToIndex" class="back-button">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-8 h-8">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
    </button>

    <!-- React Root Element -->
    <div id="react-root"></div>

    <script type="text/babel">
        // React Components will be defined here using JSX
        const { useState, useEffect, useContext, createContext, useRef, useMemo, useCallback } = React;

        // Code Copy Functionality (Reused)
        const copyCode = (button) => {
            const codeBlock = button.parentNode.nextElementSibling; // Get the next sibling, which is the <pre>
            const codeText = codeBlock.innerText;

            const textarea = document.createElement('textarea');
            textarea.value = codeText;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy'); 
            document.body.removeChild(textarea);

            // Show feedback
            const feedbackSpan = document.createElement('span');
            feedbackSpan.className = 'copied-feedback';
            feedbackSpan.innerText = 'Copied!';
            button.parentNode.appendChild(feedbackSpan);

            // Animate feedback
            setTimeout(() => {
                feedbackSpan.classList.add('show');
            }, 10); // Small delay for transition to work

            setTimeout(() => {
                feedbackSpan.classList.remove('show');
                feedbackSpan.addEventListener('transitionend', () => {
                    feedbackSpan.remove();
                }, { once: true });
            }, 1500); // Hide after 1.5 seconds
        };

        // LessonSection Component for reusability
        const LessonSection = ({ id, title, icon, children }) => (
            <section id={id} className="mb-16">
                <h2 className="text-4xl font-bold mb-6 text-blue-400">
                    <span className="mr-2 text-purple-400">{icon}</span> {title}
                </h2>
                {children}
            </section>
        );

        // CodeBlock Component for displaying code snippets with copy button
        const CodeBlock = ({ title, children }) => (
            <div className="code-container">
                <div className="code-header">
                    <span>{title}</span>
                    <button className="copy-button" onClick={(e) => copyCode(e.target)}>Copy Code</button>
                </div>
                <pre className="code-content">
                    {children}
                </pre>
            </div>
        );

        // Simple Counter Component to demonstrate useState
        const Counter = () => {
            const [count, setCount] = useState(0);

            return (
                <div className="flex items-center space-x-4">
                    <button 
                        onClick={() => setCount(prevCount => prevCount - 1)} 
                        className="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"
                    >
                        Decrement
                    </button>
                    <span className="text-3xl font-bold text-blue-400">{count}</span>
                    <button 
                        onClick={() => setCount(prevCount => prevCount + 1)} 
                        className="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"
                    >
                        Increment
                    </button>
                </div>
            );
        };

        // Data Fetching Example using useEffect
        const DataFetcher = () => {
            const [data, setData] = useState(null);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);

            useEffect(() => {
                const fetchData = async () => {
                    try {
                        setLoading(true);
                        // Using a public API for demonstration
                        const response = await fetch('https://jsonplaceholder.typicode.com/todos/1');
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        const result = await response.json();
                        setData(result);
                    } catch (err) {
                        setError(err.message);
                    } finally {
                        setLoading(false);
                    }
                };

                fetchData();
            }, []); // Empty dependency array means this runs once on mount

            if (loading) return <p className="text-blue-300">Loading data...</p>;
            if (error) return <p className="text-red-400">Error: {error}</p>;
            
            return (
                <div className="bg-gray-700 p-4 rounded-lg shadow-inner">
                    <h4 className="text-blue-300">Fetched Data:</h4>
                    <p className="text-gray-300"><strong>Title:</strong> {data.title}</p>
                    <p className="text-gray-300"><strong>Completed:</strong> {data.completed ? 'Yes' : 'No'}</p>
                </div>
            );
        };

        // Context API Example
        const ThemeContext = createContext(null);

        const ThemeProvider = ({ children }) => {
            const [theme, setTheme] = useState('dark');
            const toggleTheme = () => setTheme(prevTheme => prevTheme === 'dark' ? 'light' : 'dark');

            return (
                <ThemeContext.Provider value={{ theme, toggleTheme }}>
                    {children}
                </ThemeContext.Provider>
            );
        };

        const ThemeChanger = () => {
            const { theme, toggleTheme } = useContext(ThemeContext);
            return (
                <div className="flex items-center space-x-4">
                    <p className="text-gray-300">Current theme: <span className="font-semibold text-blue-300 capitalize">{theme}</span></p>
                    <button 
                        onClick={toggleTheme} 
                        className="bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"
                    >
                        Toggle Theme
                    </button>
                </div>
            );
        };


        // Main React App Component
        const App = () => {
            return (
                <>
                    <header className="text-center mb-12">
                        <h1 className="text-6xl md:text-7xl lg:text-8xl font-extrabold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-blue-500 to-indigo-500">
                            Whizmath: Mastering React.js
                        </h1>
                        <p className="text-xl md:text-2xl text-gray-400 mb-8">
                            Building Dynamic and Interactive Web Interfaces
                        </p>
                        <hr className="border-t-2 border-blue-600 w-1/4 mx-auto mb-12" />
                    </header>

                    <LessonSection id="introduction" title="Welcome to the World of React.js!" icon="âœ¨">
                        <p>
                            Hello, future React developers! Welcome to this comprehensive guide on React.js, powered by Whizmath. If you're ready to build modern, fast, and interactive web applications, then React is an essential tool in your arsenal. It's a JavaScript library for building user interfaces, developed by Facebook.
                        </p>
                        <p>
                            Unlike traditional HTML and CSS, React allows you to break down your UI into small, reusable pieces called **components**. This approach makes developing complex applications much more manageable, maintainable, and scalable. This lesson will take you from the fundamental concepts to some advanced patterns, providing clear explanations and practical examples. Let's embark on this exciting journey!
                        </p>
                    </LessonSection>

                    <LessonSection id="what-is-react" title="What Exactly is React.js?" icon="ðŸ’¡">
                        <p>
                            React is a **declarative, component-based JavaScript library** for building user interfaces. Key concepts include:
                        </p>
                        <ul>
                            <li><strong>Declarative:</strong> You describe *what* you want the UI to look like for a given state, and React figures out *how* to render and update it efficiently. This contrasts with imperative programming, where you manually manipulate the DOM.</li>
                            <li><strong>Component-Based:</strong> Your UI is broken down into independent, reusable pieces called components. Each component manages its own state and renders itself.</li>
                            <li><strong>Learn Once, Write Anywhere:</strong> React isn't limited to web browsers. You can use it for mobile apps (React Native), desktop apps, and even VR.</li>
                            <li><strong>Virtual DOM:</strong> React uses a Virtual DOM, which is a lightweight copy of the actual DOM. When state changes, React first updates the Virtual DOM, compares it to the previous version, and then efficiently updates only the necessary parts of the real DOM. This leads to great performance.</li>
                        </ul>
                    </LessonSection>

                    <LessonSection id="setup-and-jsx" title="Setup & JSX: The Basics" icon="ðŸ› ï¸">
                        <h3>Basic Setup (CDN for Learning)</h3>
                        <p>
                            For a quick start, we're including React and ReactDOM via CDN. In a real-world project, you'd use a build tool like Vite or Create React App, which handle bundling, optimization, and JSX compilation automatically.
                        </p>
                        <CodeBlock title="CDN Setup in HTML Head">
                            {`&lt;!-- React and ReactDOM CDNs --&gt;
&lt;script defer crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"&gt;&lt;/script&gt;
&lt;script defer crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"&gt;&lt;/script&gt;

&lt;!-- Babel CDN for JSX transformation (for in-browser compilation) --&gt;
&lt;script defer src="https://unpkg.com/@babel/standalone/babel.min.js"&gt;&lt;/script&gt;

&lt;!-- Your React code script needs type="text/babel" --&gt;
&lt;script type="text/babel"&gt;
    // Your React components and ReactDOM.createRoot().render() call
&lt;/script&gt;`}
                        </CodeBlock>

                        <h3>JSX: JavaScript XML</h3>
                        <p>
                            JSX is a syntax extension for JavaScript. It allows you to write HTML-like markup directly within your JavaScript code. While it looks like HTML, it's actually JavaScript under the hood, and Babel (which we've included via CDN) transforms it into regular JavaScript that browsers can understand.
                        </p>
                        <CodeBlock title="JSX Example">
                            {`// In your React component
const greeting = &lt;h1&gt;Hello, Whizmath React!&lt;/h1&gt;;

const ReactParagraph = () => {
    return (
        &lt;p className="text-lg text-green-300"&gt;
            This is a paragraph rendered using React and JSX.
        &lt;/p&gt;
    );
};`}
                        </CodeBlock>
                        <p>
                            Notice the `className` instead of `class`. In JSX, `class` is a reserved keyword in JavaScript, so we use `className` to apply CSS classes.
                        </p>
                    </LessonSection>

                    <LessonSection id="components-props" title="Components & Props: Reusability" icon="ðŸ“¦">
                        <h3>Functional Components</h3>
                        <p>
                            Components are the core building blocks of any React application. A functional component is a JavaScript function that returns JSX.
                        </p>
                        <CodeBlock title="Simple Functional Component">
                            {`const WelcomeMessage = () => {
    return (
        &lt;div className="bg-blue-600 text-white p-4 rounded-lg shadow-md"&gt;
            &lt;h3 className="text-2xl font-semibold mb-2"&gt;Welcome!&lt;/h3&gt;
            &lt;p&gt;This is your first React component.&lt;/p&gt;
        &lt;/div&gt;
    );
};

// How you'd use it:
// &lt;WelcomeMessage /&gt;`}
                        </CodeBlock>

                        <h3>Props: Passing Data</h3>
                        <p>
                            Props (short for "properties") are how you pass data from a parent component to a child component. They are read-only, ensuring that components are pure (they don't modify their inputs).
                        </p>
                        <CodeBlock title="Component with Props">
                            {`const Greeting = (props) => {
    // You can also destructure props: const Greeting = ({ name }) => { ... }
    return (
        &lt;p className="text-xl text-yellow-300"&gt;
            Hello, &lt;span className="font-bold"&gt;{props.name}&lt;/span&gt;! Welcome to Whizmath.
        &lt;/p&gt;
    );
};

// How you'd use it:
// &lt;Greeting name="Learner" /&gt;
// &lt;Greeting name="React Enthusiast" /&gt;`}
                        </CodeBlock>
                    </LessonSection>

                    <LessonSection id="state-hooks" title="State & Hooks: Making Components Dynamic" icon="ðŸ”„">
                        <h3>`useState`: Local Component State</h3>
                        <p>
                            Components need to react to user input, network responses, or time. React Hooks, introduced in React 16.8, allow you to use state and other React features in functional components. `useState` is the most common Hook, letting you add state to functional components.
                        </p>
                        <CodeBlock title="useState Example (Counter)">
                            {`const Counter = () => {
    const [count, setCount] = useState(0); // count is state variable, setCount is updater function

    return (
        &lt;div className="flex items-center space-x-4 bg-gray-700 p-6 rounded-lg"&gt;
            &lt;button 
                onClick={() => setCount(prevCount => prevCount - 1)} 
                className="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"
            &gt;
                Decrement
            &lt;/button&gt;
            &lt;span className="text-3xl font-bold text-blue-400"&gt;{count}&lt;/span&gt;
            &lt;button 
                onClick={() => setCount(prevCount => prevCount + 1)} 
                className="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"
            &gt;
                Increment
            &lt;/button&gt;
        &lt;/div&gt;
    );
};`}
                        </CodeBlock>
                        <p>
                            Try interacting with the counter below to see `useState` in action!
                        </p>
                        <Counter />

                        <h3>`useEffect`: Side Effects</h3>
                        <p>
                            The `useEffect` Hook lets you perform side effects in functional components. This includes data fetching, subscriptions, and manually changing the DOM. It runs after every render by default, but you can control when it runs using its dependency array.
                        </p>
                        <CodeBlock title="useEffect Example (Data Fetching)">
                            {`const DataFetcher = () => {
    const [data, setData] = useState(null);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);

    useEffect(() => {
        const fetchData = async () => {
            try {
                setLoading(true);
                // Using a public API for demonstration
                const response = await fetch('https://jsonplaceholder.typicode.com/todos/1');
                if (!response.ok) {
                    throw new Error(\`HTTP error! status: \${response.status}\`);
                }
                const result = await response.json();
                setData(result);
            } catch (err) {
                setError(err.message);
            } finally {
                setLoading(false);
            }
        };

        fetchData();
    }, []); // Empty dependency array means this runs once on mount

    if (loading) return &lt;p className="text-blue-300"&gt;Loading data...&lt;/p&gt;;
    if (error) return &lt;p className="text-red-400"&gt;Error: {error}&lt;/p&gt;;
    
    return (
        &lt;div className="bg-gray-700 p-4 rounded-lg shadow-inner"&gt;
            &lt;h4 className="text-blue-300"&gt;Fetched Data:&lt;/h4&gt;
            &lt;p className="text-gray-300"&gt;&lt;strong&gt;Title:&lt;/strong&gt; {data.title}&lt;/p&gt;
            &lt;p className="text-gray-300"&gt;&lt;strong&gt;Completed:&lt;/strong&gt; {data.completed ? 'Yes' : 'No'}&lt;/p&gt;
        &lt;/div&gt;
    );
};`}
                        </CodeBlock>
                        <p>
                            Observe the data fetching example below. It fetches data from a public API when the component mounts.
                        </p>
                        <DataFetcher />
                    </LessonSection>

                    <LessonSection id="conditional-list-rendering" title="Conditional & List Rendering" icon="âœ…">
                        <h3>Conditional Rendering</h3>
                        <p>
                            In React, you often need to render different elements or components based on certain conditions. You can use JavaScript operators like `if/else`, ternary operator (`condition ? true : false`), and logical `&&` to achieve this.
                        </p>
                        <CodeBlock title="Conditional Rendering Example">
                            {`const UserGreeting = ({ isLoggedIn }) => {
    return (
        &lt;div className="bg-gray-700 p-4 rounded-lg"&gt;
            {isLoggedIn ? (
                &lt;p className="text-green-400"&gt;Welcome back, logged in user!&lt;/p&gt;
            ) : (
                &lt;p className="text-red-400"&gt;Please log in to continue.&lt;/p&gt;
            )}
        &lt;/div&gt;
    );
};

// Usage:
// &lt;UserGreeting isLoggedIn={true} /&gt;
// &lt;UserGreeting isLoggedIn={false} /&gt;`}
                        </CodeBlock>

                        <h3>List Rendering (`map` with `key`)</h3>
                        <p>
                            When you need to render a list of items (e.g., a list of products, comments, or menu items), you'll typically use the JavaScript `map()` array method. It's crucial to provide a unique `key` prop for each item when rendering lists. The `key` helps React identify which items have changed, are added, or are removed, improving performance and avoiding bugs.
                        </p>
                        <CodeBlock title="List Rendering Example">
                            {`const ItemList = () => {
    const items = [
        { id: 1, text: 'Master React Components' },
        { id: 2, text: 'Understand State Management' },
        { id: 3, text: 'Learn React Hooks' },
    ];

    return (
        &lt;ul className="list-disc list-inside bg-gray-700 p-4 rounded-lg"&gt;
            {items.map(item => (
                &lt;li key={item.id} className="mb-2 text-gray-300"&gt;
                    {item.text}
                &lt;/li&gt;
            ))}
        &lt;/ul&gt;
    );
};

// Usage: &lt;ItemList /&gt;`}
                        </CodeBlock>
                    </LessonSection>

                    <LessonSection id="event-handling" title="Event Handling: User Interactions" icon="ðŸ–±ï¸">
                        <p>
                            React provides a synthetic event system that wraps browser's native events. You handle events in React similarly to how you handle events on DOM elements, but with a few differences (e.g., event handlers are camelCase, you pass functions directly).
                        </p>
                        <CodeBlock title="Event Handling Example">
                            {`const ButtonClicker = () => {
    const handleClick = () => {
        alert('Button was clicked!'); // Using alert for demo, use custom modal in real app
    };

    const handleInputChange = (event) => {
        console.log('Input value changed:', event.target.value);
    };

    return (
        &lt;div className="flex flex-col space-y-4 bg-gray-700 p-6 rounded-lg"&gt;
            &lt;button 
                onClick={handleClick} 
                className="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"
            &gt;
                Click Me
            &lt;/button&gt;
            &lt;input 
                type="text" 
                onChange={handleInputChange} 
                placeholder="Type something..." 
                className="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            /&gt;
            &lt;p className="text-sm text-gray-400"&gt;
                (Check console for input changes. Click button for alert.)
            &lt;/p&gt;
        &lt;/div&gt;
    );
};`}
                        </CodeBlock>
                        <p>
                            *Note: For the purpose of this lesson, we use `alert()`. In a real application, you should use a custom modal or message display for a better user experience.*
                        </p>
                    </LessonSection>

                    <LessonSection id="context-api" title="Context API: State Management Beyond Props" icon="ðŸ“¦">
                        <p>
                            For sharing state that's considered "global" for a tree of React components (like themes, authenticated user info, or language preferences), the Context API can be used instead of prop-drilling (passing props down manually through many levels).
                        </p>
                        <CodeBlock title="Context API Example">
                            {`// 1. Create a Context
const ThemeContext = createContext(null);

// 2. Create a Provider Component
const ThemeProvider = ({ children }) => {
    const [theme, setTheme] = useState('dark'); // 'dark' or 'light'
    const toggleTheme = () => setTheme(prevTheme => prevTheme === 'dark' ? 'light' : 'dark');

    return (
        &lt;ThemeContext.Provider value={{ theme, toggleTheme }}&gt;
            {children}
        &lt;/ThemeContext.Provider&gt;
    );
};

// 3. Create a Consumer Component (using useContext Hook)
const ThemeChanger = () => {
    const { theme, toggleTheme } = useContext(ThemeContext);
    return (
        &lt;div className="flex items-center space-x-4 bg-gray-700 p-6 rounded-lg"&gt;
            &lt;p className="text-gray-300"&gt;Current theme: 
                &lt;span className={\`font-semibold capitalize \${theme === 'dark' ? 'text-gray-200' : 'text-yellow-400'}\`}&gt;
                    {theme}
                &lt;/span&gt;
            &lt;/p&gt;
            &lt;button 
                onClick={toggleTheme} 
                className="bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105"
            &gt;
                Toggle Theme
            &lt;/button&gt;
        &lt;/div&gt;
    );
};

// How you'd use it in your App:
// &lt;ThemeProvider&gt;
//   &lt;ThemeChanger /&gt;
// &lt;/ThemeProvider&gt;`}
                        </CodeBlock>
                        <p>
                            Try toggling the theme below using the Context API:
                        </p>
                        <ThemeProvider>
                            <ThemeChanger />
                        </ThemeProvider>
                    </LessonSection>

                    <LessonSection id="best-practices" title="React Best Practices & Tips" icon="ðŸŒŸ">
                        <p>To write robust and maintainable React applications:</p>
                        <ul>
                            <li>**Component Structure:** Keep components small, focused, and reusable. Each component should ideally do one thing well.</li>
                            <li>**Props Down, Events Up:** This is a common pattern for data flow in React. Parent components pass data down to children via props, and children communicate back to parents via callbacks passed as props.</li>
                            <li>**Immutability of State:** Always treat state as immutable. Instead of modifying state directly, create new copies of objects or arrays when updating state.</li>
                            <li>**Keys in Lists:** Always provide a unique `key` prop for elements in lists to help React efficiently update them.</li>
                            <li>**Conditional Rendering Logic:** Keep conditional rendering logic within your JSX concise. For complex logic, abstract it into separate functions or components.</li>
                            <li>**Error Boundaries:** Use Error Boundaries (class components only, but you can wrap functional components with them) to gracefully handle JavaScript errors in a part of the UI without crashing the entire application.</li>
                            <li>**Performance Optimization (useMemo, useCallback, useRef):**
                                <ul>
                                    <li>`useMemo`: Memoizes (caches) the result of a function, preventing re-computation on every render if dependencies haven't changed.</li>
                                    <li>`useCallback`: Memoizes a callback function, preventing unnecessary re-creation of functions passed as props to child components, which can optimize child component renders.</li>
                                    <li>`useRef`: Provides a way to access DOM nodes or React elements created in the render method, or to persist mutable values across renders without causing re-renders.</li>
                                </ul>
                            </li>
                            <li>**Folder Structure:** Organize your project with a consistent and logical folder structure (e.g., `components`, `hooks`, `pages`, `utils`, `context`).</li>
                            <li>**Linters (ESLint) and Formatters (Prettier):** Use tools to enforce coding standards and automatically format your code for consistency.</li>
                            <li>**Testing:** Write tests for your components and logic using libraries like React Testing Library or Jest.</li>
                        </ul>
                    </LessonSection>

                    <LessonSection id="conclusion" title="Your React.js Journey Continues!" icon="ðŸš€">
                        <p>
                            Congratulations! You've covered a vast amount of ground in this React.js lesson, moving from beginner concepts like JSX and components to more advanced topics like Hooks and Context. You now have a solid foundation to start building sophisticated and interactive web applications.
                        </p>
                        <p>
                            React is a powerful tool, and continuous learning and practice are key to mastering it. Keep building small projects, experimenting with different Hooks, and exploring the vast React ecosystem.
                        </p>
                        <p>
                            We at Whizmath are excited to see what you'll create. Keep exploring, keep coding, and keep innovating!
                        </p>
                        <div className="text-center mt-12">
                            <a href="https://whizmath.com" className="inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition duration-300 ease-in-out">
                                Explore More Whizmath Lessons
                            </a>
                        </div>
                    </LessonSection>
                </>
            );
        };

        // Render the React App
        // Ensure that ReactDOM is available before trying to create a root
        const rootElement = document.getElementById('react-root');
        if (rootElement && typeof ReactDOM !== 'undefined') {
            const root = ReactDOM.createRoot(rootElement);
            root.render(<App />);
        } else {
            console.error("React root element or ReactDOM is not available. Check script loading order.");
        }

    </script>

    <script>
        // Three.js Background Animation - Kept separate from React for clarity
        let scene, camera, renderer, particles, particleMaterial;

        function initThreeJS() {
            if (typeof THREE === 'undefined') {
                console.error("THREE.js is not loaded. Skipping Three.js initialization.");
                return;
            }

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-bg'), antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setClearColor(0x1a202c, 1); // Match body background

            camera.position.z = 5;

            const particleCount = 1000;
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);

            const color1 = new THREE.Color(0x63b3ed); // Blue
            const color2 = new THREE.Color(0x9f7aea); // Purple

            for (let i = 0; i < particleCount * 3; i += 3) {
                positions[i] = (Math.random() - 0.5) * 20; // x
                positions[i + 1] = (Math.random() - 0.5) * 20; // y
                positions[i + 2] = (Math.random() - 0.5) * 20; // z

                const mixFactor = Math.random();
                const mixedColor = new THREE.Color().copy(color1).lerp(color2, mixFactor);
                colors[i] = mixedColor.r;
                colors[i + 1] = mixedColor.g;
                colors[i + 2] = mixedColor.b;
            }

            const particleGeometry = new THREE.BufferGeometry();
            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particleGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            particleMaterial = new THREE.PointsMaterial({
                size: 0.05,
                vertexColors: true,
                transparent: true,
                opacity: 0.7,
                blending: THREE.AdditiveBlending
            });

            particles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(particles);

            const ambientLight = new THREE.AmbientLight(0x404040); 
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
            directionalLight.position.set(0, 1, 0);
            scene.add(directionalLight);

            animateThreeJS();
        }

        function animateThreeJS() {
            requestAnimationFrame(animateThreeJS);
            if (particles) {
                particles.rotation.x += 0.0005;
                particles.rotation.y += 0.0008;

                const positions = particles.geometry.attributes.position.array;
                for (let i = 0; i < positions.length; i += 3) {
                    positions[i + 2] += 0.001; 
                    if (positions[i + 2] > camera.position.z + 5) {
                        positions[i + 2] = (Math.random() - 0.5) * 20; 
                    }
                }
                particles.geometry.attributes.position.needsUpdate = true;
            }
            if (renderer && scene && camera) { // Check if all are defined before rendering
                renderer.render(scene, camera);
            }
        }

        function onWindowResizeThreeJS() {
            if (camera && renderer) {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }
        }

        // Initialize Three.js and other non-React DOM listeners when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Three.js initialization with a small delay
            setTimeout(() => { 
                initThreeJS();
                window.addEventListener('resize', onWindowResizeThreeJS);
            }, 100); 
            
            // Back to Index Button Functionality
            const backToIndexBtn = document.getElementById('backToIndex');
            if (backToIndexBtn) { // Ensure the button exists before attaching listener
                backToIndexBtn.addEventListener('click', () => {
                    window.location.href = 'index.html'; // Navigate to index.html
                });
            } else {
                console.error("Back to Index button not found.");
            }
        });
    </script>
</body>
</html>
